<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/dash_home.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css">
    <title>Dashboard Cursos</title>
    <link rel="stylesheet" href="css/curso_materia.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
</head>

<body>
    <header>
        <nav id="nav_bar">
            <div id="nav_logo">
                <img src="assets/imgs/logoEvora.svg" alt="">
                <h2>Évora</h2>
            </div>
        </nav>
    </header>

    <main>
        <section class="menu">
            <ul class="categories">

                <li><a href="dashboard_home.html"><i class="fi fi-rr-home"></i>Dashboard</li></a>
                <li class="active"><a href="dash_cursos.html"><i class="fi fi-rr-users-alt"></i>Cursos</li></a>
                <li><a href="dash_alerta.html"><i class="fi fi-rr-bell"></i>Alertas</li></a>

                <li class="categories_two"><a href="configuracoes.html"><i class="fi fi-rr-settings"></i>Configurações
                </li></a>

            </ul>
        </section>
        <section class="content">
            <section class="container_one_page">

                <div id="div_parte_indicadores">

                    <div id="div_nomeMateria" class="div_titulos">
                        <h2>Química</h2>
                    </div>

                    <div id="div_indicadores">
                        <div class="indicador div_conteudos">
                            <div class="icone">
                                <div class="circuloIcone"><i class="fi fi-rr-running"></i></div>
                            </div>
                            <div class="info">
                                <p class="p_titulo">Quantidade de Alunos com risco de faltas</p>
                                <p class="p_subtitulo">53</p>
                            </div> 
                        </div>
                        <div class="indicador div_conteudos">
                            <div class="icone">
                                <div class="circuloIcone"><i class="fi fi-rr-ballot"></i></div>
                            </div>
                            <div class="info">
                                <p class="p_titulo">Quantidade de Alunos com risco de notas</p>
                                <p class="p_subtitulo">13</p>
                            </div>
                        </div>
                    </div>

                </div>

                <div id="div_parte_graficos">
                    <div id="div_grafico_notas">
                        <div class="div_graficoTitulo">
                            <h3>Nota média por mês</h3>
                        </div>
                        <div class="div_bar div_conteudos">
                            <canvas id="barChart" height="250"></canvas>
                        </div>
                    </div>
                    <div id="div_grafico_frequencia">
                        <div class="div_graficoTitulo">
                            <h3>Frequência</h3>
                        </div>
                        <div class="div_pizza div_conteudos">
                            <canvas id="pieChart" height="250"></canvas>
                        </div>
                    </div>
                </div>

                <div id="div_parte_alunos">
                    <div id="div_atencaoAlunos">
                        <div class="div_titulos">
                            <h3>Alunos situação de Problema e Atenção</h3>
                        </div>
                        <div id="div_alunoProblema" class="div_conteudos">
                            <div class="people-card">
                                <div class="people">
                                    <div class="person">
                                    <div class="photo">
                                        <a href="t2.html">
                                        <img src="assets/imgs/anne.png"/>
                                        </a>
                                    </div>
                                    <div class="name">Anne Y.</div>
                                    </div>
                                    <div class="person">
                                    <div class="photo"><img src="assets/imgs/emilly.png"/></div>
                                    <div class="name">Emilly</div>
                                    </div>
                                    <div class="person">
                                    <div class="photo"><img src="assets/imgs/erick.png"/></div>
                                    <div class="name">Erick L.</div>
                                    </div>
                                </div>
                                <button class="pill-btn" aria-label="avançar">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 18l6-6-6-6"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div id="div_todosAlunos">
                        <div class="div_titulos">
                            <h3>Todos os Alunos</h3>
                        </div>
                        <div id="div_alunoAll" class="div_conteudos">
                            <div class="people-card">
                                <div class="people">
                                    <div class="person">
                                    <div class="photo">
                                        <a href="t2.html">
                                        <img src="assets/imgs/ezequiel.png"/>
                                        </a>
                                    </div>
                                    <div class="name">Ezequiel C.</div>
                                    </div>
                                    <div class="person">
                                    <div class="photo"><img src="assets/imgs/guilherme.png"/></div>
                                    <div class="name">Guilherme</div>
                                    </div>
                                    <div class="person">
                                    <div class="photo"><img src="assets/imgs/joao.png"/></div>
                                    <div class="name">João R.</div>
                                    </div>
                                    <div class="person">
                                    <div class="photo"><img src="assets/imgs/emilly.png"/></div>
                                    <div class="name">Emilly</div>
                                    </div>
                                    
                                </div>
                                <button class="pill-btn" aria-label="avançar">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 18l6-6-6-6"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </section>
        </section>
    </main>
</body>

</html>
<script>

    Chart.register(ChartDataLabels);

    const barCtx = document.getElementById('barChart').getContext('2d');
    const labelsBar = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro'];
    new Chart(barCtx, {
        type: 'bar',
        data: {
            labels: labelsBar,
            datasets: [{
                label: 'Nota média',
                data: [5, 2, 10, 4, 8, 7, 6, 4, 7, 5],
                backgroundColor: 'blue',
                borderWidth: 0
            }]
        },
        options: {
            animation: false,
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        stepSize: 2,
                        max: 10
                    }
                },
                x: { grid: { display: false } }
            },
            plugins: {
                legend: { display: true },
                datalabels: {
                    color: '#fff',
                    anchor: 'center',
                    align: 'center',
                    font: {
                        weight: 'bold',
                        size: 14
                    }
                }
            }
        }
    });

    const pieCtx = document.getElementById('pieChart').getContext('2d');
    new Chart(pieCtx, {
        type: 'pie',
        data: {
            labels: ['Situação NOK', 'Situação OK'],
            datasets: [{
                data: [30, 70],
                backgroundColor: ['blue', '#0ea5e9'],
                borderWidth: 2,
                borderColor: '#fff'
            }]
        },
        options: {
            animation: false,
            plugins: {
                legend: {
                    display: true,
                    position: 'right', // Posição da legenda
                    labels: {
                        usePointStyle: true, // Usa pontos ao invés de quadrados na legenda
                        padding: 20 // Espaçamento entre itens da legenda
                    }
                },
                datalabels: { // Plugin para mostrar as porcentagens
                    formatter: (value, ctx) => {
                        return value + '%';
                    },
                    color: '#fff',
                    font: {
                        weight: 'bold',
                        size: 16
                    }
                }
            }
        }
    });
</script>